<html>

<head>
    <link rel="stylesheet" href="styles.css">
    <!-- https://www.viralpatel.net/dynamically-add-remove-rows-in-html-table-using-javascript/#:~:text=For%20adding%20dynamic%20row%20in,created%20cells%20by%20using%20row. -->
    <!-- These functions are added in the scriptEditor. Need to change the format within LabArchives. [function name]: function(){} -->
    <SCRIPT language="javascript">
        function addRow(tableID) {

            var table = document.getElementById(tableID);

            var rowCount = table.rows.length;
            //console.log("adding row " + rowCount)
            var row = table.insertRow(rowCount);
            row.id = rowCount;
            row.className = "tableRow"

            var cell1 = row.insertCell(0);
            var element1 = document.createElement("input");
            element1.type = "checkbox";
            element1.name = "select_" + rowCount;
            cell1.appendChild(element1);

            var cell2 = row.insertCell(1);
            var element2 = document.createElement("input");
            element2.type = "text";
            element2.name = "task_" + rowCount;
            cell2.appendChild(element2);

            var cell3 = row.insertCell(2);
            var element3 = document.createElement("input");
            element3.type = "date";
            element3.name = "startdate_" + rowCount;
            cell3.appendChild(element3);

            var cell4 = row.insertCell(3);
            var element4 = document.createElement("input");
            element4.type = "date";
            element4.name = "duedate_" + rowCount;
            cell4.appendChild(element4);

            var cell5 = row.insertCell(4);
            var element5 = document.createElement("textarea");
            element5.name = "description_" + rowCount;
            cell5.appendChild(element5);

            var cell6 = row.insertCell(5);
            var element6 = document.createElement("input");
            element6.type = "checkbox";
            element6.name = "completed_" + rowCount;
            cell6.style = "background-color: lightblue;";
            cell6.appendChild(element6);

            var cell7 = row.insertCell(6);
            var element7 = document.createElement("textarea");
            element7.name = "completion_" + rowCount;
            cell7.appendChild(element7);

            //resize the container as new rows are added
            //my_widget_script.parent_class.resize_container();

        }

        function deleteRow(tableID) {
            try {
                var table = document.getElementById(tableID);
                var rowCount = table.rows.length;

                for (var i = 0; i < rowCount; i++) {
                    var row = table.rows[i];
                    var select = row.cells[0].childNodes[0];
                    if (null != select && true == select.checked) {
                        table.deleteRow(i);
                        rowCount--;
                        i--;
                    }


                }
            } catch (e) {
                alert(e);
            }
            //resize the container as rows are deleted
            //my_widget_script.parent_class.resize_container();
        }

    </SCRIPT>
</head>

<body>
    <div>
        <h1>To-Do Tasks</h1>
    </div>
    
    <div>Focus:</div>
    
    <div><textarea id="focus" name="focus">Focus</textarea></div>
    
    <p>To add a new item, click &quot;Add Row&quot;.<br />
        To delete a row, check &quot;select&quot; and then press &quot;Delete Row&quot;.<br />
    </p>
    

    <!-- html computer testing -->
    <button id="addRow" onclick="addRow('dataTable')" type="button">Add Row</button><button id="deleteRow"
        onclick="deleteRow('dataTable')" type="button">Delete Row</button>

    <!-- lab archives To call the function, need to use form_script before function name-->
    <!-- <p><button id="addRow" onclick="form_script.addRow('dataTable')" type="button">Add Row</button><button id="deleteRow"
        onclick="form_script.deleteRow('dataTable')" type="button">Delete Row</button></p> -->

        <table id="dataTable" width="350px">
            <tbody>
                <tr>
                    <th>Select</th>
                    <th>Task</th>
                    <th>Start Date</th>
                    <th>Due Date</th>
                    <th>Description</th>
                    <th style="background-color:lightblue;">Completed</th>
                    <th>Completion Notes</th>
                </tr>
            </tbody>
        </table>
        
        <p>&nbsp;</p>
        
        <h3>Other comments:</h3>
        
        <p><textarea cols="50" name="othercomments" rows="10"></textarea></p>
  
    <!--Stop copying here-->

</body>

</html>