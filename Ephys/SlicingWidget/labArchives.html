<!-- #region HTML -->
<!-- Luxon Date Handling -->
<script src="https://cdn.jsdelivr.net/npm/luxon@1.26.0/build/global/luxon.min.js" integrity="sha256-4sbTzmCCW9LGrIh5OsN8V5Pfdad1F1MwhLAOyXKnsE0=" crossorigin="anonymous"></script>
<!-- Bootstrap CSS -->
<link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" rel="stylesheet" />
<!-- Load jQuery for Bootstrap -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<!-- Load bootstrap java -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
<!-- Bootbox for dialogs -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.min.js" integrity="sha512-RdSPYh1WA6BF0RhpisYJVYkOyTzK4HwofJ3Q7ivt/jkpW6Vc8AurL1R+4AUcvn9IwEKAPm/fk7qFZW3OuiUDeg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!-- Call no conflict to reassign this newer jQuery off of $ and jquery-->
<script>
    var $jq351 = jQuery.noConflict(true);
</script>
<style type="text/css">
    /* TO DO Place css styling code here */

    /* responsive table doesn't work with xs screen sizes for some reason, so apply a specific width for these */
    @media (max-width: 576px) {
        .xsTableDiv {
            width: 300px !important;
            overflow-x: scroll;
        }
    }

    table {
        border: 2px solid black;
    }

    th {
        padding: 5px;
        border: 2px solid black;
    }

    td {
        padding: 5px;
        border: 1px solid black;
    }

    .fullWidth {
        width: 90%
    }

    .female, .male, .anySex, .cycle, .gdx, .iFrameDiv{
        display: none;
    }
</style>

<!-- TO DO Begin typing your HTML code here -->

<div class="container firstDiv">
    <div class="row">
        <h1 class="col-12">Slicing</h1>
    </div>
</div>

<div class="container mt-2 reqTextInfo">
    <p>Elements that are required to save this page are marked with a red asterisk. <span
        style="color:red">*</span> <em>Don't forget about the Google sheet at the bottom of the form</em><br />
        Elements that are required to copy the table or save to CSV are marked with a blue pound sign <span
            style="color:blue">#</span></p>
</div>

<div class="container mt-2">
    <div class="row">
        <h2 class="col">Mouse Information</h2>
    </div>
    <div class="row">
        <div class="col-12 col-md-4">
            <div class="needForTableLab mt-2" >Mouse ID # or Ear Tag</div>
            <div><input class="needForTable fullWidth" id="mouseID" name="mouseid"/></div>

            <div class="needForTableLab mt-2">Transgenic Line</div>
            <div><input class="needForTable fullWidth" id="strain" name="strain"/></div>

            <div class="needForTableLab mt-2">Zygosity</div>
            <div>
                <select class="needForTable fullWidth" id="zygosity" name="zygosity">
                    <option value="">[Select]</option>
                    <option value="homoPlus">+/+</option>
                    <option value="hetero">+/-</option>
                    <option value="homoNeg">-/-</option> 
                </select>
            </div>
            <div class="mt-2">Dam ID</div>
            <div><input id="damID" name="damid" class="fullWidth"/></div>
            <div class="mt-2">Sire ID</div>
            <div><input id="sireID" name="sireid" class="fullWidth"/></div>
        </div>

        <div class="col-12 col-md-4">
            <div class="mt-2">Cage #</div>
            <div><input id="cageNum" name="cagenum" class="fullWidth"/></div>
            <div class="mt-2">Generation</div>
            <div><input id="generation" name="generation" class="fullWidth"/></div>
            <div class="needForTableLab mt-2" >Date of Birth</div>
            <div><input class="needForTable fullWidth ageCalc" id="dateOfBirth" name="dob" type="date" /></div>

            <div class="mt-2">DOB Counts as...</div>
            <div>
                <select id="DOB_equals" name="dobequals" class="fullWidth ageCalc">
                    <option value="0">PND 0</option>
                    <option value="1" selected>PND 1</option>
                </select>
            </div>
            <div class="mt-2">Blood Glucose (mg/100mL)</div>
            <div><input id="glucose" name="glucose" step="0.001" type="number" class="fullWidth"/></div>
        </div>

        <div class="col-12 col-md-4">
            <div class="needForTableLab mt-2">Sex</div>
            <div>
                <select class="needForTable fullWidth massCalc cycleCalc" id="sex" name="sex">
                    <option value="">[Select]</option>
                    <option value="female">Female</option>
                    <option value="male">Male</option> 
                </select>
            </div>

            <div class="needForTableLab mt-2">Body mass (g)</div>
            <div>
                <input class="needForTable fullWidth massCalc" id="bodyMass" name="bodymass" step="0.1" type="number" />
            </div>

            <!-- If only want this to appear when animals are intact, add "isIntact" label -->
            <div id="reproTractMassDiv">
                <div class="mt-2 needForTableLab" data-sex="female">Uterine Mass (mg)</div>
                <div class="mt-2 needForTableLab" data-sex="male">Seminal Vesicle Mass (mg)</div>
                <div>
                    <input class="fullWidth massCalc needForTable" data-sex="female male" id="reproTractMass" name="reprotractmass" step="0.01" type="number"/>
                </div>
            </div>

            <div class="mt-2">Treatment</div>
            <div>
                <div><em>Project Type:</em></div>
                <select name="projecttype" id="projectType" class="fullWidth treatmentCalc">
                    <option value="">[Select]</option>
                    <option value="PNA">Prenatal Androgenization</option>
                    <option value="ALPS">Adult Stress</option>
                    <option value="other">Other</option>
                </select>
                <select id="pnaTreatment" name="pnatreatment" class="fullWidth treatmentCalc mt-1" data-proj="PNA">
                    <option value="">[Select]</option>
                    <option value="CON">Control</option>
                    <option value="CON_main">Main colony control</option>
                    <option value="VEH">Vehicle</option>
                    <option value="DHT">DHT</option> 
                </select>
                <select id="ALPSTreatment" name="alpstreatment" class="fullWidth treatmentCalc mt-1" data-proj="ALPS">
                    <option value="">[Select]</option>
                    <option value="CON">Control</option>
                    <option value="ALPS">ALPS</option> 
                </select>
                <input type="text" id="otherTreatment" name="othertreatment" class="fullWidth treatmentCalc mt-1" data-proj="other"/>
            </div>
        </div>
    </div>
</div>

<div class="container mt-2">
    <div class="row">
        <div class="col-12 col-md-6">
            <h2>General Info</h2>

            <div class="needForTableLab">Experimenter</div>
            <div><input class="needForTable fullWidth" id="who" name="who"/></div>

            <div class="needForTableLab mt-2">Date</div>
            <div><input class="needForTable fullWidth ageCalc" id="recordingDate" name="slicedate" type="date" /></div>

            <div class="needForTableLab mt-2">Time of Sacrifice</div>
            <div><input class="needForTable fullWidth timeCalc" id="sacTime" name="sactime" type="time" /></div>

            <div class="needForTableLab mt-2">Daylight Savings Time</div>
            <div>
                <select class="needForTable fullWidth timeCalc" id="daylightSavings" name="daylightsaving">
                    <option value="">[Select]</option>
                    <option value="Y">Daylight Savings Time (summer)</option>
                    <option value="N">Standard Time (winter)</option> 
                </select>
            </div>
        </div>
        <div class="col-12 col-md-6 mt-2 mt-md-0">
            <h2>Gonadal Status</h2>

            <div class="needForTableLab">Gonad Status</div>
            <div>
                <select class="needForTable fullWidth cycleCalc" id="gonadStatus" name="gonadstatus">
                    <option value="">[Select]</option>
                    <option value="intact">Intact</option>
                    <option value="gdx">Gonadectomized</option> 
                </select>
            </div>

            <!-- Intact -->
            <div data-sex="female" data-gonads="intact">
                <div class="mt-2">Cycle Stage</div>
                <div>
                    <select class="fullWidth cycleCalc" id="cycleStage" name="cyclestage">
                        <option value="">[Select]</option>
                        <option value="NA">NA</option>
                        <option value="D">Diestrus</option>
                        <option value="P">Proestrus</option>
                        <option value="E">Estrus</option> 
                    </select>
                </div>
                <div>Comment:</div>
                <div>
                    <textarea name="stagecomment" id="stageComment" class="fullWidth cycleCalc autoAdjust"></textarea>
                </div>
            </div>

            <!-- GDX -->
            <div data-gonads="gdx">
                <div class="mt-2">Date of surgery</div>
                <div>
                    <input class="fullWidth" id="surgeryDate" name="surgerydate" type="date" />
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container mt-2">
    <div class="row">
        <div class="col-12 col-md-6">
            <h2>Steroid Implants</h2>

            <div class="mt-2">Implant?</div>
            <div>
                <input id="implantBox" name="implant" type="checkbox" class="implantCalc" />
            </div>

            <!-- Only show if implant is selected -->
            <div data-implant>
                <div class="mt-2">Type of implant</div>
                <div>
                    <select id="implantType" name="implanttype" class="fullWidth implantCalc">
                        <option value="">[Select]</option>
                        <option value="e2">E2</option>
                        <option value="dht">DHT</option>
                        <option value="pira">P IRA</option>
                        <option value="other">Other</option> 
                    </select>
                </div>
                <div class="mt-2">Implant Date</div>
                <div><input type="date" name="implantdate" id="implantDate" class="fullWidth implantCalc"></div>
    
                <div class="mt-2">Implant Comment</div>
                <div>
                    <textarea name="implantcomment" id="implantComment" class="fullWidth implantCalc autoAdjust"></textarea>
                </div>
            </div>


        </div>
        <div class="col-12 col-md-6 mt-2 mt-md-0">
            <h2>Samples</h2>
        
            <div class="mt-2 needForTableLab">Serum Tube Label</div>
            <div>
                <input class="needForTable fullWidth" id="tubeLabel" name="tubelabel" />
            </div>
            <div><label for="bloodserum">Saved blood</label> <input id="savedBlood" name="bloodserum" type="checkbox" /></div>
            
            <div class="mt-2">Pituitary</div>
            <div><label for="pituitary">Saved pituitary</label> <input id="savedPit" name="pituitary" type="checkbox" /></div>
        </div>
    </div>
</div>

<div class="container mt-2">
    <div class="row">
        <h2 class="col">Slice Info</h2>
    </div>
    <div class="row mt-2">
        <div class="col-12 col-md-4">
            <div class="mt-2 needForTableLab">Nucleus/Area of Interest</div>
            <div>
                <input class="needForTable fullWidth" id="nucleus" name="nucleus"/>
            </div>
            
            <div class="mt-2 needForTableLab">Slicing Orientation</div>
            <div>
                <input class="needForTable fullWidth" id="orientation" name="orientation"/>
            </div>                    
        </div>
        <div class="col-12 col-md-4">
            <div class="mt-2">Quality</div>
            <div>
                <select id="sliceQual" name="slicequal" class="fullWidth">
                    <option value="">[Select]</option>
                    <option value="good">Good</option>
                    <option value="fair">Fair</option>
                    <option value="poor">Poor</option> 
                </select>
            </div>
            <div>Comment:</div>
            <div>
                <textarea name="slicecomment" id="sliceComment" class="fullWidth autoAdjust"></textarea>
            </div>
        </div>
        <div class="col-12 col-md-4">
            <div class="mt-2">Fluorescent Quality</div>
            <div>
                <select id="fluorQual" name="fluorqual" class="fullWidth">
                    <option value="">[Select]</option>
                    <option value="good">Good</option>
                    <option value="fair">Fair</option>
                    <option value="poor">Poor</option> 
                </select>
            </div>
            <div>Comment:</div>
            <div>
                <textarea name="fluorcomment" id="fluorComment" class="fullWidth autoAdjust"></textarea>
            </div>
        </div>
    </div>
</div>

<div class="container mt-2">
    <div class="row">
        <h2 class="col">Solutions</h2>
    </div>
    <div class="row">
        <div class="col-12 col-md-4">
            <h5 class="mt-2">External</h5>
            <div>External Solution</div>
            <div><input id="externalSoln" name="externalsoln" class="fullWidth"/></div>
            <div class="mt-2">External Date</div>
            <div><input type="date" name="externaldate" id="externalDate" class="fullWidth"></div>
            
            <div class="mt-2">
                <em>Additions to external solution:</em> <br/>
                <input type="button" value="Add sol'n" id="addToExternal" name="addtoexternal" class="disableOnView">
                <input type="button" value="Remove last addition" id="removeLastExternal" name="removelastexternal" class="disableOnView">
            </div>
            <div id="externalAdditionsDiv"></div>
        </div>

        <div class="col-12 col-md-4 mt-2 mt-md-0">
            <h5 class="mt-2">Internal</h5>
            <div>Internal/Pipette Solution</div>
            <div><input id="internalSoln" name="internalsoln" class="fullWidth" /></div>
            <div class="mt-2">Internal Date</div>
            <div><input id="internalDate" name="internaldate" type="date" class="fullWidth" /></div>
            <div class="mt-2">
                <em>Additions to internal solution:</em><br/>
                <input type="button" value="Add sol'n" id="addToInternal" name="addtointernal" class="disableOnView">
                <input type="button" value="Remove last addition" id="removeLastInternal" name="removelastinternal" class="disableOnView">
            </div>
            <div id="internalAdditionsDiv"></div>
        </div>

        <div class="col-12 col-md-4 mt-2 mt-md-0">
            <h5 class="mt-2">Pipette</h5>
            <div>Pipette Program</div>
            <div><input id="pipette" name="pipette" class="fullWidth" /></div>
            
            <div class="mt-2">Pipette Lot</div>
            <div><input id="pipetteLot" name="pipettelot" class="fullWidth" /></div>
        </div>
    </div>
</div>

<div class="container mt-2">
    <div class="row">
        <div class="col-12">
            <h3>Comments:</h3>
        </div>
        <div class="col-12">
            <textarea name="comments" id="otherComments" class="fullWidth autoAdjust"></textarea>
        </div>
    </div>
</div>

<div class="container outCardContainer">
    <div class="row mt-2">
        <h2 class="col">Output Tables:</h2>
    </div>
    <div class="row mt-2">
        <div class="col-12">
            <!-- took out the iFrame Google Doc since it was slow and was causing errors -->
            <big>Open the <a href="https://docs.google.com/spreadsheets/d/18s84qpAjEYcbvC4cn_6BaMAZXi8em_mEMkldO7pK_0Y/edit?usp=sharing" target="_blank">Slicing Database</a></big> 
            Google Sheet in a new window
        </div>
        <div class="col-12">
            <label class="requiredLab" for="enteredDatatoDoc">Have you copied the data into the Google Doc?</label> 
            <select id="enteredDatatoDoc" name="entereddatatodoc" required="">
                <option value="">[Select]</option>
                <option value="no">Not yet</option>
                <option value="yes">Yes!</option> 
            </select>
        </div>
    </div>
    <div class="row mt-2">
        <div class="col-12 col-sm-6"><input id="toCSV" name="tocsv" type="button" value="Save CSV"
            class="fullWidth toCSV"/></div>
    
        <div class="col-12 col-sm-6">
            <input id="copyDataButton" name="copydatabutton" type="button" value="Copy Data" class="fullWidth copyData"/>
            <br />Copy Table Head? <input id="copyHead" name="copyhead" type="checkbox" class="copyHead"/>
            <br />Transpose Table? <input id="transpose" name="transpose" type="checkbox" class="transpose" />
        </div>
    </div>
    <div class="row">
        <div class="col" id="errorMsg">&nbsp;</div>
    </div> 
    <div class="row" id="forCopy">&nbsp;</div>
    <div class="mt-2 row">
        <h4 class="col">Select a table format:</h4>
    </div>
    <div class="row mt-2 mb-2 viewTableButtons">
        &nbsp;
    </div>
</div>